version: '3.3'

volumes:
  backend_data:

networks:
  anyvision:

services:

  dslr:
    restart: always
    networks:
      - anyvision
    image: gcr.io/anyvision-training/dslr
    volumes:
      - type: volume
        source: backend_data
        target: /root/pipe_data
      - type: bind
        source: c:/anv/storage
        target: /var/www/html
      - type: bind
        source: c:/anv/storage/logs
        target: /var/www/html/logs
      - type: bind
        source: c:/anv/storage/cameraMount
        target: /root/mount
    environment:
      - pipe_cpu_mode=true
    env_file:
      - env/dslr.env
      - env/backend.env
      - env/global.env
